const n="sw-cache-1746465810617",i=["/","/index.html","/no-data-error.html","/main.css","/main.js","/fonts/firacode_regular.woff2","/fonts/sft_regular.woff2","/fonts/sft_medium.woff2","/apple-touch-icon.png","/color-palette.svg","/favicon.ico","/favicon.svg","/favicon-16x16.png","/favicon-32x32.png","/favicon-48x48.png","/icon-192.png","/icon-512.png","/icon-mask.png","/manifest.webmanifest"];self.addEventListener("install",e=>{e.waitUntil(caches.open(n).then(t=>t.addAll(i)).catch(t=>{})),self.skipWaiting()}),self.addEventListener("activate",e=>{try{e.waitUntil(caches.keys().then(t=>{const a=[];for(const r of t)r!==n&&a.push(caches.delete(r));return Promise.all(a)}).then(()=>self.clients.claim()))}catch{}});async function h(e,t){try{const a=await fetch(e,{cache:"no-store"});if(!a.ok)return!1;const r=a.headers.get("ETag"),s=a.headers.get("Last-Modified"),c=t?t.headers.get("ETag"):null,o=t?t.headers.get("Last-Modified"):null;return!r&&!s?!0:r&&r!==c||s&&s!==o}catch{return!1}}async function f(e){const t=await caches.open(n),a=await fetch(e,{cache:"no-store"});return a.ok&&e.method==="GET"&&await t.put(e,a.clone()),a}self.addEventListener("fetch",e=>{e.respondWith((async()=>{try{const t=await caches.match(e.request);if(!t)try{const r=await fetch(e.request,{cache:"no-store"});return r.ok&&e.request.method==="GET"&&await(await caches.open(n)).put(e.request,r.clone()),r}catch{return Response.redirect("no-data-error.html",302)}if(!await h(e.request,t))return t;try{return await f(e.request)}catch{return t}}catch{return Response.redirect("no-data-error.html",302)}})())});
