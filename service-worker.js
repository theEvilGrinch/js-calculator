const c="sw-cache-1745967219000",i=["/","/index.html","/no-data-error.html","/main.css","/main.js","/fonts/firacode_regular.woff2","/fonts/sft_regular.woff2","/fonts/sft_medium.woff2","/apple-touch-icon.png","/color-palette.svg","/favicon.ico","/favicon.svg","/favicon-16x16.png","/favicon-32x32.png","/favicon-48x48.png","/icon-192.png","/icon-512.png","/icon-mask.png","/manifest.webmanifest"];self.addEventListener("install",e=>{e.waitUntil(caches.open(c).then(t=>t.addAll(i)).catch(()=>{})),self.skipWaiting()}),self.addEventListener("activate",e=>{e.waitUntil(caches.keys().then(t=>{const a=[];for(const s of t)s!==c&&a.push(caches.delete(s));return Promise.all(a)}).then(()=>self.clients.claim()))});async function h(e,t){try{const a=await fetch(e,{cache:"no-store"});if(!a.ok)return!1;const s=a.headers.get("ETag"),n=a.headers.get("Last-Modified"),r=t?t.headers.get("ETag"):null,o=t?t.headers.get("Last-Modified"):null;return!s&&!n?!0:s&&s!==r||n&&n!==o}catch{return!1}}async function f(e){const t=await caches.open(c),a=await fetch(e,{cache:"no-store"});return a.ok&&e.method==="GET"&&await t.put(e,a.clone()),a}self.addEventListener("fetch",e=>{e.respondWith((async()=>{try{const t=await caches.match(e.request);if(!t)try{const s=await fetch(e.request,{cache:"no-store"});return s.ok&&e.request.method==="GET"&&await(await caches.open(c)).put(e.request,s.clone()),s}catch{return Response.redirect("no-data-error.html",302)}if(!await h(e.request,t))return t;try{return await f(e.request)}catch{return t}}catch{return Response.redirect("no-data-error.html",302)}})())});
