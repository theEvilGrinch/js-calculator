var n=Object.defineProperty;var e=(o,t)=>n(o,"name",{value:t,configurable:!0});document.querySelectorAll("noscript").forEach(o=>o.remove());const display=document.getElementById("display"),memoryDisplayValue=document.getElementById("memory-section__value"),errorDialog=document.querySelector(".js-errorDialog"),htmlButtons=document.querySelectorAll("button"),buttonsLogic={0:{action:e(()=>appendToDisplay(0),"action")},1:{action:e(()=>appendToDisplay(1),"action")},2:{action:e(()=>appendToDisplay(2),"action")},3:{action:e(()=>appendToDisplay(3),"action")},4:{action:e(()=>appendToDisplay(4),"action")},5:{action:e(()=>appendToDisplay(5),"action")},6:{action:e(()=>appendToDisplay(6),"action")},7:{action:e(()=>appendToDisplay(7),"action")},8:{action:e(()=>appendToDisplay(8),"action")},9:{action:e(()=>appendToDisplay(9),"action")},C:{action:e(()=>clearDisplay(),"action")},"/":{action:e(()=>appendToDisplay("/"),"action")},"*":{action:e(()=>appendToDisplay("*"),"action")},"+":{action:e(()=>appendToDisplay("+"),"action")},"-":{action:e(()=>appendToDisplay("-"),"action")},".":{action:e(()=>appendToDisplay("."),"action")},"=":{action:e(()=>calculateResult(),"action")},"2\u221A":{action:e(()=>appendToDisplay("\u221A"),"action")},"^exponent":{action:e(()=>appendToDisplay("^"),"action")},"%":{action:e(()=>appendToDisplay("%"),"action")},"M+":{action:e(()=>addToMemory(),"action")},"M-":{action:e(()=>subtractFromMemory(),"action")},MR:{action:e(()=>memoryRecall(),"action")},MC:{action:e(()=>clearMemory(),"action")},Close:{action:e(()=>{clearDisplay(),errorDialog.close()},"action")}};htmlButtons.forEach(o=>{o.addEventListener("click",()=>{o.getAttribute("aria-label")==="Toggle theme"?toggleDarkMode():buttonsLogic[o.textContent].action()})});let memory=0;function appendToDisplay(o){display.value+=o}e(appendToDisplay,"appendToDisplay");function clearDisplay(){display.value=""}e(clearDisplay,"clearDisplay");function clearMemory(){memoryDisplayValue.innerText="0",memory=0}e(clearMemory,"clearMemory");function calculateResult(){try{const o=display.value;if(!o.trim()||!/^[\d+\-*/().\s^%√]+$/.test(o)){errorDialog.showModal();return}const t=o.replace(/√(\d+)/g,"Math.sqrt($1)").replace(/(\d+)\^(\d+)/g,"Math.pow($1, $2)").replace(/(\d+)%/g,"($1 / 100)");display.value=Function("return "+t)()}catch{errorDialog.showModal()}}e(calculateResult,"calculateResult");function addToMemory(){calculateResult();const o=parseFloat(display.value);o&&(memory+=o,memoryDisplayValue.innerText=memory,memoryDisplayValue.style.color="#388e3c")}e(addToMemory,"addToMemory");function subtractFromMemory(){calculateResult();const o=parseFloat(display.value);o&&(memory-=o,memoryDisplayValue.innerText=memory,memoryDisplayValue.style.color="#ff9800")}e(subtractFromMemory,"subtractFromMemory");function memoryRecall(){display.value+=memory}e(memoryRecall,"memoryRecall"),display.addEventListener("keydown",function(o){(o.code==="Enter"||o.code==="NumpadEnter")&&display.value!==""&&(console.log("ent"),calculateResult())}),document.addEventListener("keydown",function(o){o.code==="Escape"&&(clearDisplay(),errorDialog.close())});function toggleDarkMode(){window.matchMedia("(prefers-color-scheme: dark)").matches?document.body.classList.toggle("light-mode"):document.body.classList.toggle("dark-mode")}e(toggleDarkMode,"toggleDarkMode");
