var n=Object.defineProperty;var o=(e,t)=>n(e,"name",{value:t,configurable:!0});document.querySelectorAll("noscript").forEach(e=>e.remove());const display=document.getElementById("display"),memoryDisplayValue=document.getElementById("memory-section__value"),errorDialog=document.querySelector(".js-errorDialog");let memory=0;function appendToDisplay(e){display.value+=e}o(appendToDisplay,"appendToDisplay");function clearDisplay(){display.value=""}o(clearDisplay,"clearDisplay");function clearMemory(){memoryDisplayValue.innerText="0",memory=0}o(clearMemory,"clearMemory");function calculateResult(){try{const e=display.value;if(!e.trim()||!/^[\d+\-*/().\s^%√]+$/.test(e)){errorDialog.showModal();return}const t=e.replace(/√(\d+)/g,"Math.sqrt($1)").replace(/(\d+)\^(\d+)/g,"Math.pow($1, $2)").replace(/(\d+)%/g,"($1 / 100)");display.value=Function("return "+t)()}catch{errorDialog.showModal()}}o(calculateResult,"calculateResult");function addToMemory(){calculateResult();const e=parseFloat(display.value);e&&(memory+=e,memoryDisplayValue.innerText=memory,memoryDisplayValue.style.color="#388e3c")}o(addToMemory,"addToMemory");function subtractFromMemory(){calculateResult();const e=parseFloat(display.value);e&&(memory-=e,memoryDisplayValue.innerText=memory,memoryDisplayValue.style.color="#ff9800")}o(subtractFromMemory,"subtractFromMemory");function memoryRecall(){display.value+=memory}o(memoryRecall,"memoryRecall"),display.addEventListener("keydown",function(e){(e.code==="Enter"||e.code==="NumpadEnter")&&display.value!==""&&(console.log("ent"),calculateResult())}),document.addEventListener("keydown",function(e){e.code==="Escape"&&(clearDisplay(),errorDialog.close())});function toggleDarkMode(){window.matchMedia("(prefers-color-scheme: dark)").matches?document.body.classList.toggle("light-mode"):document.body.classList.toggle("dark-mode")}o(toggleDarkMode,"toggleDarkMode");
